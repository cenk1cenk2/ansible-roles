- name: load variables
  include_vars:
    dir: '{{ load_vars_root }}'
  register: variables

- name: fail on no variables and strict mode
  fail:
    msg: 'In strict mode, variables files should be matched in the given directory: {{ load_vars_root }}'
  when:
    - load_vars_strict
    - variables | length=== 0
